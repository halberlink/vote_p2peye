webpackJsonp([1],{"20DP":function(t,e){},"4EPq":function(t,e){},"4jiY":function(t,e){},"7Mzd":function(t,e,s){"use strict";var o=s("mvHQ"),a=s.n(o),n=(s("tvR6"),s("Au9i"),s("ZOGT")),i=s("MMMJ"),c={name:"waitVote",data:function(){return{lock:!1,openSocket:!1,CandidateList:[],jugeList:[],dataList:[],websock:null,isFixd:!1}},components:{DataList:n.a,banner:i.a},computed:{sortList:function(){return this.dataList.sort(function(t,e){var s=t.count;return e.count-s})}},created:function(){var t=this;this.initWebSocket(),window.addEventListener("scroll",function(){var e=document.documentElement.scrollTop||document.body.scrollTop;t.isFixd=!(e<=225)},!1)},beforeDestroy:function(){this.websock.close()},methods:{jumpTo:function(t){this.$router.push(t)},register:function(){},initWebSocket:function(){var t={};localStorage.getItem("userInfo")?(t=localStorage.getItem("userInfo"),t=JSON.parse(t)):t.id=0,console.log("insocket");var e="ws://192.168.3.12:9527/?"+t.id;this.websock=new WebSocket(e),this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onmessage=this.websocketonmessage,this.websock.onclose=this.websocketclose},websocketonopen:function(){console.log("WebSocket连接成功");this.websocketsend({interface:"getPeoples",data:""}),this.openSocket=!0},websocketonerror:function(t){console.log("WebSocket连接发生错误"),this.openSocket=!1},websocketonmessage:function(t){switch(t=JSON.parse(t.data),console.log(t),t.interface){case"info":200==t.code?(this.$store.commit("changevote",{status:t.data.status}),this.jugeList=t.data.online):this.$message({message:t.message,type:"error"});break;case"start":200==t.code?(localStorage.setItem("status",t.data.status),this.$router.replace("/tjInfo")):this.$message({message:t.message,type:"error"});break;case"rank":200==t.code?localStorage.setItem("status",t.data.status):this.$message({message:t.message,type:"error"});break;case"getPeoples":200==t.code?this.CandidateList=t.data:this.$message({message:t.message,type:"error"})}},websocketsend:function(t){this.websock.send(a()(t))},websocketclose:function(t){this.openSocket=!1},startVote:function(){var t=this,e=this;this.$confirm("此操作将使整体流程开始并且此流程不可逆，\n请确认全员都已进入并已准备好开始, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.openSocket?e.websocketsend({interface:"start",data:""}):e.$message({message:"socket未连接",type:"error"})}).catch(function(){t.$message({type:"info",message:"已取消开始"})})}}},r={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui-waitvote"},[s("banner"),t._v(" "),s("div",{staticClass:"ui-main"},[s("div",{staticClass:"ui-Candidate ui-contentbg"},[s("div",{staticClass:"ui-listtitle"},[t._v("候选人")]),t._v(" "),s("div",{staticClass:"ui-list"},t._l(t.CandidateList,function(e){return s("div",{staticClass:"ui-list-item"},[t._m(0,!0),t._v(" "),s("div",{staticClass:"ui-name"},[t._v(t._s(e.name))])])})),t._v(" "),s("div",{staticClass:"enter-key",on:{click:t.startVote}},[t._v("下一环节")])]),t._v(" "),s("div",{staticClass:"ui-judges"},[s("div",{staticClass:"ui-listtitle"},[t._v("评委席")]),t._v(" "),s("div",{staticClass:"ui-list"},t._l(t.jugeList,function(e){return s("div",{staticClass:"ui-list-item"},[s("div",{staticClass:"ui-chair"},[s("div",{staticClass:"ui-name"},[t._v(t._s(e.uname))])])])}))])]),t._v(" "),s("div",{staticClass:"ui-content"})],1)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui-face"},[e("img",{attrs:{src:s("RDLH"),alt:""}})])}]};var l=s("VU/8")(c,r,!1,function(t){s("EMDU")},"data-v-720d2457",null);e.a=l.exports},"7Otq":function(t,e,s){t.exports=s.p+"static/img/logo.25656eb.png"},"80PB":function(t,e){},BC0U:function(t,e){},EMDU:function(t,e){},"Ghp+":function(t,e,s){"use strict";var o=s("mvHQ"),a=s.n(o),n=(s("Au9i"),s("d8/S"),{name:"vote_m",data:function(){return{lock:!1,rangeValue:0,openSocket:!1,userInfo:{},peopleInfo:{},historyList:[],websock:null}},filters:{toNumber:function(t){return t?10*Number(t):0}},created:function(){localStorage.getItem("userInfo")?this.userInfo=JSON.parse(localStorage.getItem("userInfo")):this.userInfo.id=0,this.initWebSocket()},beforeDestroy:function(){this.websock.close()},computed:{sortList:function(){return this.historyList.sort(function(t,e){var s=t.count;return e.count-s})}},methods:{resetVote:function(){this.$router.replace("/tjInfo_m")},subValue:function(){var t={interface:"vote",data:{from_id:this.userInfo.id,to_id:this.peopleInfo.id,count:this.rangeValue}};this.websocketsend(t)},initWebSocket:function(){var t=this.userInfo;console.log(this.userInfo),console.log("insocket");var e="ws://192.168.3.12:9527/?"+t.id;this.websock=new WebSocket(e),this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onmessage=this.websocketonmessage,this.websock.onclose=this.websocketclose},websocketonopen:function(){console.log("WebSocket连接成功"),this.openSocket=!0},websocketonerror:function(t){console.log("WebSocket连接发生错误"),this.openSocket=!1},websocketonmessage:function(t){switch(t=JSON.parse(t.data),console.log(t),t.interface){case"info":if(200==t.code)for(var e in this.peopleInfo=t.data.ing[0],localStorage.setItem("ingStatus",this.peopleInfo.status),console.log("endvote"),this.historyList=[],t.data.history)t.data.history[e].from_id==this.userInfo.id&&(this.historyList.push(t.data.history[e]),t.data.history[e].to_id==this.peopleInfo.id&&(this.peopleInfo.count=t.data.history[e].count));else this.$message({message:t.message,type:"error"});break;case"next":200==t.code?(this.websock.close(),this.$router.replace("/tjInfo_m")):4300==t.code?(this.$message({message:"全部都已投完！谢谢参与",type:"error"}),this.$router.replace("/allRank_m")):this.$message({message:t.message,type:"error"})}},websocketsend:function(t){this.websock.send(a()(t))},websocketclose:function(t){this.openSocket=!1}}}),i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ui-vote"},[o("div",{staticClass:"vote-info"},[o("div",{staticClass:"ui-tit"},[t._v("投票完毕")]),t._v(" "),o("div",{staticClass:"vote-people"},[o("div",{staticClass:"vote-people-info"},[o("div",{staticClass:"face"},[o("img",{attrs:{src:s("RDLH"),alt:""}}),t._v(" "),o("div",{class:1==t.peopleInfo.type?"face-icon-new face-icon":"face-icon-old face-icon"})]),t._v(" "),o("div",{staticClass:"name"},[t._v(t._s(t.peopleInfo.job)+"-"+t._s(t.peopleInfo.name))])]),t._v(" "),o("div",{staticClass:"vote-num"},[o("div",{staticClass:"key"},[t._v("当前评分：")]),t._v(" "),o("div",{staticClass:"value"},[o("span",[t._v(t._s(t.peopleInfo.count))])])])])]),t._v(" "),o("div",{staticClass:"vote-history"},[o("div",{staticClass:"ui-tit"},[t._v("历史得分")]),t._v(" "),o("div",{staticClass:"history-scroll"},t._l(t.sortList,function(e){return o("div",{staticClass:"vote-history-item"},[o("div",{staticClass:"face"},[o("div",{class:1==e.to_info.type?"face-icon-new face-icon":"face-icon-old face-icon"})]),t._v(" "),o("div",{staticClass:"num"},[o("div",{staticClass:"name"},[o("span",[t._v(t._s(e.to_info.job)+"-"+t._s(e.to_info.name))]),t._v(" "),o("span",{staticClass:"percent"},[t._v(t._s(e.count))])]),t._v(" "),o("div",{staticClass:"range"},[o("mt-progress",{attrs:{value:t._f("toNumber")(e.count),barHeight:10}},[o("div",{attrs:{slot:"start"},slot:"start"}),t._v(" "),o("div",{attrs:{slot:"end"},slot:"end"})])],1)])])}))])])},staticRenderFns:[]};var c=s("VU/8")(n,i,!1,function(t){s("80PB"),s("LvXH")},"data-v-0ee7bb96",null);e.a=c.exports},H32Y:function(t,e){},IaNU:function(t,e){},LItq:function(t,e,s){"use strict";var o=s("mvHQ"),a=s.n(o),n=(s("tvR6"),s("Au9i"),s("ZOGT")),i=s("MMMJ"),c={name:"allRank",data:function(){return{msg:"Welcome to Your Vue.js App",username:"",password:"",lock:!1,openSocket:!1,jugeList:[],olddataList:[],newdataList:[],alldataList:[],websock:null,isFixd:!1}},components:{DataList:n.a,banner:i.a},computed:{oldsortList:function(){return this.olddataList.sort(function(t,e){var s=t.count;return e.count-s})},newsortList:function(){return this.newdataList.sort(function(t,e){var s=t.count;return e.count-s})},allortList:function(){return this.alldataList.sort(function(t,e){var s=t.count;return e.count-s})}},created:function(){this.initWebSocket()},beforeDestroy:function(){this.websock.close()},methods:{jumpTo:function(t){this.$router.push(t)},register:function(){},initWebSocket:function(){var t={};localStorage.getItem("userInfo")?(t=localStorage.getItem("userInfo"),t=JSON.parse(t)):t.id=0,console.log("insocket");var e="ws://192.168.3.12:9527/?"+t.id;this.websock=new WebSocket(e),this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onmessage=this.websocketonmessage,this.websock.onclose=this.websocketclose},websocketonopen:function(){console.log("WebSocket连接成功"),this.openSocket=!0},websocketonerror:function(t){console.log("WebSocket连接发生错误"),this.openSocket=!1},websocketonmessage:function(t){switch((t=JSON.parse(t.data)).interface){case"info":if(200==t.code){this.newdataList=[],this.olddataList=[],this.alldataList=[];var e=t.data.rank;for(var s in e){var o={};o.count=e[s][0].count,o.job=e[s][0].info.job,o.name=e[s][0].info.name,this.alldataList.push(o),1==e[s][0].info.type?this.newdataList.push(o):this.olddataList.push(o)}this.$store.commit("changevote",{status:t.data.status}),this.jugeList=t.data.online}else this.$message({message:t.message,type:"error"});break;case"start":200==t.code?(localStorage.setItem("status",t.data.status),this.$router.replace("/tjInfo")):this.$message({message:t.message,type:"error"});break;case"rank":200==t.code?localStorage.setItem("status",t.data.status):this.$message({message:t.message,type:"error"})}},websocketsend:function(t){this.websock.send(a()(t))},websocketclose:function(t){this.openSocket=!1},startVote:function(){this.openSocket?this.websocketsend({interface:"start",data:""}):this.$message({message:"socket未连接",type:"error"})}}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui-waitvote"},[e("banner"),this._v(" "),e("div",{staticClass:"ui-content"},[e("div",{staticClass:"countList static"},[e("DataList",{attrs:{dataList:this.oldsortList,name:"评分实时榜单老员工"}})],1),this._v(" "),e("div",{staticClass:"countList static"},[e("DataList",{attrs:{dataList:this.newsortList,name:"评分实时榜单新员工"}})],1),this._v(" "),e("div",{staticClass:"countList static"},[e("DataList",{attrs:{dataList:this.allortList,name:"评分实时总榜单"}})],1)])],1)},staticRenderFns:[]};var l=s("VU/8")(c,r,!1,function(t){s("Q9V2"),s("b98n")},"data-v-7b936eb4",null);e.a=l.exports},LvXH:function(t,e){},MMMJ:function(t,e,s){"use strict";var o={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"ui-logobg"},[e("div",{staticClass:"ui-logo"},[e("img",{attrs:{src:s("7Otq")}})])]),this._v(" "),e("div",{staticClass:"ui-bannerbg"},[e("div",{staticClass:"ui-banner"})])])}]};var a=s("VU/8")({name:"banner",data:function(){return{}},methods:{}},o,!1,function(t){s("ZaWt"),s("BC0U")},"data-v-5ce50546",null);e.a=a.exports},NHnr:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=s("7+uW"),a=s("NYxO");o.default.use(a.a);var n=new a.a.Store({state:{status:0,uid:0,username:"",ingstatus:0,isLogin:!1},mutations:{changevote:function(t,e){t.status=e.status},changelogin:function(t,e){t.isLogin=e.isLogin},changeIngStatus:function(t,e){t.ingstatus=e.ingstatus}}}),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var c=s("VU/8")({name:"App"},i,!1,function(t){s("H32Y")},null,null).exports,r=s("YaEn"),l=s("mtWM"),u=s.n(l),d=s("mw3O"),f=s.n(d),h=s("zL8q"),v=s.n(h),m=s("Au9i"),p=s.n(m);o.default.config.productionTip=!1,o.default.use(a.a),o.default.use(p.a),o.default.use(v.a,{size:"small",zIndex:3e3}),o.default.prototype.$http=u.a,o.default.prototype.$qs=f.a,String.prototype.trim=function(){return this.replace(/^\s+(.*?)\s+$/,"$1")};var b=navigator.userAgent,g=b.indexOf("Android")>-1||b.indexOf("Linux")>-1,k=!!b.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)||g,w=localStorage.getItem("ingStatus");localStorage.getItem("userInfo");r.a.beforeEach(function(t,e,s){t.meta.title&&(document.title=t.meta.title),k&&("/waitVote_m"===t.path&&"2"==w?(console.log(n.state.ingstatus),s({path:"/vote_m",replace:!0})):"/waitVote_m"===t.path&&"1"==w?s({path:"/tjInfo_m",replace:!0}):s(),"/"===t.path?s({path:"/index_m",replace:!0}):"/waitVote"===t.path?s({path:"/waitVote_m",replace:!0}):"/tjInfo"===t.path?s({path:"/tjInfo_m",replace:!0}):"/vote"===t.path&&s({path:"/vote_m",replace:!0})),s()}),new o.default({el:"#app",router:r.a,store:n,components:{App:c},template:"<App/>"})},NuOC:function(t,e,s){"use strict";var o=s("mvHQ"),a=s.n(o),n=(s("tvR6"),{name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App",nameValue:"",jobValue:"",reasonValue:"",typeValue:"",jobs:[{value:1,label:"前端"},{value:2,label:"PHP"},{value:3,label:"JAVA"},{value:4,label:"IOS"},{value:5,label:"Android"},{value:6,label:"测试"},{value:7,label:"运维"}],type:[{value:1,label:"新员工"},{value:2,label:"老员工"}],PeopleData:[],lock:!1,openSocket:!1,InsertData:{}}},created:function(){this.initWebSocket()},methods:{addPeople:function(){if(this.lock)this.$message({message:"添加中请稍后..",type:"success"});else if(""!=this.nameValue||""!=this.jobValue||""!=this.reasonValue)if(""!=this.nameValue)if(""!=this.jobValue)if(""!=this.reasonValue){this.InsertData={name:this.nameValue.trim(),job:this.jobValue,type:this.typeValue,uid:30,reason:this.reasonValue};var t={interface:"insert",data:this.InsertData};console.log(this.InsertData),this.openSocket?this.websocketsend(t):this.$message({message:"socket未连接",type:"error"})}else this.$message({message:"推荐理由不能为空",type:"error"});else this.$message({message:"员工职位不能为空",type:"error"});else this.$message({message:"员工姓名不能为空",type:"error"});else this.$message({message:"请填写信息",type:"error"})},initWebSocket:function(){console.log("insocket");this.websock=new WebSocket("ws://192.168.3.12:9527/?30"),this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onmessage=this.websocketonmessage,this.websock.onclose=this.websocketclose},websocketonopen:function(){console.log("WebSocket连接成功"),this.openSocket=!0;this.websocketsend({interface:"getPeoples",data:""})},websocketonerror:function(t){console.log("WebSocket连接发生错误"),this.openSocket=!1},websocketonmessage:function(t){switch(t=JSON.parse(t.data),console.log(t),t.interface){case"getPeoples":200==t.code?this.PeopleData=t.data:this.$message({message:t.message,type:"error"});break;case"insert":if(200==t.code){this.websocketsend({interface:"getPeoples",data:""})}else this.$message({message:t.message,type:"error"})}},websocketsend:function(t){this.websock.send(a()(t))},websocketclose:function(t){console.log("connection closed ("+t.code+")")}}}),i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"InformationEntry"},[s("h1",[t._v("员工信息录入")]),t._v(" "),s("div",{staticClass:"insert"},[s("div",{staticClass:"top"},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[s("el-input",{attrs:{placeholder:"请输入员工姓名"},model:{value:t.nameValue,callback:function(e){t.nameValue=e},expression:"nameValue"}})],1)]),t._v(" "),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[s("el-select",{attrs:{placeholder:"请选择员工职位"},model:{value:t.jobValue,callback:function(e){t.jobValue=e},expression:"jobValue"}},t._l(t.jobs,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)]),t._v(" "),s("el-col",{attrs:{span:8}},[s("div",{staticClass:"grid-content bg-purple"},[s("el-select",{attrs:{placeholder:"请选择新老员工"},model:{value:t.typeValue,callback:function(e){t.typeValue=e},expression:"typeValue"}},t._l(t.type,function(t){return s("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)])],1)],1),t._v(" "),s("div",{staticClass:"bottom"},[s("el-row",{attrs:{gutter:20}},[s("el-col",{attrs:{span:24}},[s("div",{staticClass:"grid-content bg-purple"},[s("el-input",{attrs:{type:"textarea",placeholder:"请输入推荐理由"},model:{value:t.reasonValue,callback:function(e){t.reasonValue=e},expression:"reasonValue"}})],1)])],1)],1),t._v(" "),s("div",{staticClass:"sub"},[s("el-button",{attrs:{type:"primary"},on:{click:t.addPeople}},[t._v("新增人员")])],1)]),t._v(" "),s("div",{staticClass:"inseredPeople"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.PeopleData,height:"550",border:""}},[s("el-table-column",{attrs:{prop:"name",label:"姓名",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{prop:"job",label:"职位",width:"180"}}),t._v(" "),s("el-table-column",{attrs:{prop:"reason",label:"推荐理由"}})],1)],1)])},staticRenderFns:[]};var c=s("VU/8")(n,i,!1,function(t){s("zlc5"),s("kDYT")},"data-v-582bb102",null);e.a=c.exports},O0z4:function(t,e){},PRbB:function(t,e,s){"use strict";var o=s("mvHQ"),a=s.n(o),n=(s("Au9i"),s("d8/S"),{name:"vote_m",data:function(){return{lock:!1,rangeValue:0,openSocket:!1,userInfo:{},peopleInfo:{},historyList:[],alldataList:[],websock:null}},filters:{toNumber:function(t){return t?10*Number(t):0}},created:function(){localStorage.getItem("userInfo")?this.userInfo=JSON.parse(localStorage.getItem("userInfo")):this.userInfo.id=0,this.initWebSocket()},beforeDestroy:function(){this.websock.close()},computed:{sortList:function(){return this.alldataList.sort(function(t,e){var s=t.count;return e.count-s})}},methods:{resetVote:function(){this.$router.replace("/tjInfo_m")},subValue:function(){var t={interface:"vote",data:{from_id:this.userInfo.id,to_id:this.peopleInfo.id,count:this.rangeValue}};this.websocketsend(t)},initWebSocket:function(){var t=this.userInfo;console.log(this.userInfo),console.log("insocket");var e="ws://192.168.3.12:9527/?"+t.id;this.websock=new WebSocket(e),this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onmessage=this.websocketonmessage,this.websock.onclose=this.websocketclose},websocketonopen:function(){console.log("WebSocket连接成功"),this.openSocket=!0},websocketonerror:function(t){console.log("WebSocket连接发生错误"),this.openSocket=!1},websocketonmessage:function(t){switch(t=JSON.parse(t.data),console.log(t),t.interface){case"info":if(200==t.code){this.alldataList=[];var e=t.data.rank;for(var s in e)this.alldataList.push(e[s][0]);console.log(this.alldataList)}else this.$message({message:t.message,type:"error"});break;case"next":200==t.code?(this.websock.close(),this.$router.replace("/tjInfo_m")):4300==t.code?this.$message({message:"全部都已投完！谢谢参与",type:"error"}):this.$message({message:t.message,type:"error"})}},websocketsend:function(t){this.websock.send(a()(t))},websocketclose:function(t){this.openSocket=!1}}}),i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui-vote"},[s("div",{staticClass:"vote-history"},[s("div",{staticClass:"ui-tit"},[t._v("历史得分")]),t._v(" "),s("div",{staticClass:"history-scroll"},t._l(t.sortList,function(e){return s("div",{staticClass:"vote-history-item"},[s("div",{staticClass:"face"},[s("div",{class:1==e.info.type?"face-icon-new face-icon":"face-icon-old face-icon"})]),t._v(" "),s("div",{staticClass:"num"},[s("div",{staticClass:"name"},[s("span",[t._v(t._s(e.info.job)+"-"+t._s(e.info.name))]),t._v(" "),s("span",{staticClass:"percent"},[t._v(t._s(e.count))])]),t._v(" "),s("div",{staticClass:"range"},[s("mt-progress",{attrs:{value:t._f("toNumber")(e.count),barHeight:10}},[s("div",{attrs:{slot:"start"},slot:"start"}),t._v(" "),s("div",{attrs:{slot:"end"},slot:"end"})])],1)])])}))])])},staticRenderFns:[]};var c=s("VU/8")(n,i,!1,function(t){s("nnbP"),s("4EPq")},"data-v-299de02a",null);e.a=c.exports},Q9V2:function(t,e){},RDLH:function(t,e){t.exports="data:image/jpeg;base64,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"},TcX2:function(t,e){},UFx1:function(t,e){},YaEn:function(t,e,s){"use strict";(function(t){var o=s("7+uW"),a=s("/ocq"),n=s("ZOGT"),i=s("dAjm"),c=s("j80Q"),r=s("7Mzd"),l=s("utys"),u=s("yRvP"),d=s("nKeI"),f=s("r2LH"),h=s("Ghp+"),v=s("gm4h"),m=s("LItq"),p=s("PRbB"),b=s("NuOC");o.default.use(a.a),e.a=new a.a({mode:"history",base:t,routes:[{path:"/",name:"Index",component:i.a},{path:"/index_m",name:"index_m",component:c.a},{path:"/InformationEntry",name:"InformationEntry",component:b.a,meta:{title:"信息录入后台"}},{path:"/waitVote",name:"waitVote",component:r.a,meta:{title:"等待投票"},children:[{path:"countList",component:n.a}]},{path:"/waitVote_m",name:"waitVote_m",component:l.a,meta:{title:"等待投票"}},{path:"/tjInfo",name:"tjInfo",component:d.a,meta:{title:"推荐人信息"}},{path:"/tjInfo_m",name:"tjInfo_m",component:u.a,meta:{title:"推荐人信息"}},{path:"/vote",name:"vote",component:v.a,meta:{title:"评选人投票"}},{path:"/vote_m",name:"vote_m",component:f.a,meta:{title:"评选人投票"}},{path:"/voteEnd_m",name:"voteEnd_m",component:h.a,meta:{title:"评选人结束投票"}},{path:"/allRank",name:"allRank",component:m.a,meta:{title:"评选人结束投票"}},{path:"/allRank_m",name:"allRank_m",component:p.a,meta:{title:"评选人结束投票"}}]})}).call(e,"/")},ZOGT:function(t,e,s){"use strict";var o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v(t._s(t.name))]),t._v(" "),s("div",{staticClass:"inseredPeople"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.dataList,height:"500",border:""}},[s("el-table-column",{attrs:{type:"index",label:"排名"}}),t._v(" "),s("el-table-column",{attrs:{prop:"name",label:"姓名",width:"100"}}),t._v(" "),s("el-table-column",{attrs:{prop:"job",label:"职位",width:"100"}}),t._v(" "),s("el-table-column",{attrs:{prop:"count",label:"平均分"}})],1)],1)])},staticRenderFns:[]},a=s("VU/8")({name:"countList",data:function(){return{}},props:["dataList","name"],created:function(){},methods:{}},o,!1,null,null,null);e.a=a.exports},ZaWt:function(t,e){},b98n:function(t,e){},"d8/S":function(t,e){},dAjm:function(t,e,s){"use strict";var o=s("mvHQ"),a=s.n(o),n=(s("tvR6"),s("Au9i")),i={name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App",username:"",password:"",lock:!1,timers:null,websock:null}},components:{banner:s("MMMJ").a},created:function(){this.initWebSocket()},beforeDestroy:function(){this.websock.close()},methods:{register:function(){if(""!=this.username){var t={name:this.username.trim()};this.lock=!0;var e={interface:"register",data:t};console.log(t),this.openSocket?this.websocketsend(e):this.$message({message:"socket未连接",type:"error"})}else Object(n.Toast)({message:"请输入姓名",position:"middle",duration:2e3})},initWebSocket:function(){console.log("insocket");this.websock=new WebSocket("ws://192.168.3.12:9527/?0"),this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onmessage=this.websocketonmessage,this.websock.onclose=this.websocketclose},websocketonopen:function(){console.log("WebSocket连接成功"),this.openSocket=!0},websocketonerror:function(t){console.log("WebSocket连接发生错误"),this.openSocket=!1},websocketonmessage:function(t){switch((t=JSON.parse(t.data)).interface){case"register":if(200==t.code){var e=t.data;console.log(e),localStorage.setItem("userInfo",a()(e)),this.$store.commit("changelogin",{isLogin:!0}),localStorage.setItem("ingStatus",0),30==t.data.id&&this.$router.replace("/waitVote")}else this.$message({message:t.message,type:"error"});this.lock=!0}},websocketsend:function(t){this.websock.send(a()(t))},websocketclose:function(t){this.openSocket=!1}}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register"},[s("banner"),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"info"},[s("mt-field",{attrs:{label:"姓名",placeholder:"请输入姓名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),s("mt-button",{attrs:{size:"large",type:"primary"},on:{click:t.register}},[t._v("进入评选")])],1),t._v(" "),s("div",{staticClass:"des"},[t._v("*请输入姓名作为评选人的标识，非评选人请勿输入！")])],1)},staticRenderFns:[]};var r=s("VU/8")(i,c,!1,function(t){s("efTb")},"data-v-09612aeb",null);e.a=r.exports},efTb:function(t,e){},gm4h:function(t,e,s){"use strict";var o=s("mvHQ"),a=s.n(o),n=(s("tvR6"),s("Au9i"),s("ZOGT")),i=s("MMMJ"),c={name:"vote",data:function(){return{username:"",password:"",lock:!1,openSocket:!1,jugeList:[],peopleInfo:{name:"--",job:"--",type:0,reason:"--"},olddataList:[],newdataList:[],alldataList:[],websock:null,votedList:[],allvoted:!0}},components:{DataList:n.a,banner:i.a},computed:{filterList:function(){var t=[],e={};for(var s in this.jugeList)e[this.jugeList[s].id]||(t.push(this.jugeList[s]),e[this.jugeList[s].id]=!0);return t},oldsortList:function(){return this.olddataList.sort(function(t,e){var s=t.count;return e.count-s})},newsortList:function(){return this.newdataList.sort(function(t,e){var s=t.count;return e.count-s})},allortList:function(){return this.alldataList.sort(function(t,e){var s=t.count;return e.count-s})}},created:function(){this.initWebSocket()},beforeDestroy:function(){console.log("开始投票"),this.websock.close()},methods:{jumpTo:function(t){this.$router.push(t)},nextStep:function(){var t=this;this.$confirm("请确定当前人员已全部评分完毕，已准备好开始下一个演讲","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.votedList=[],t.openSocket?t.websocketsend({interface:"next",data:""}):t.$message({message:"socket未连接",type:"error"})}).catch(function(){t.$message({type:"info",message:"已取消继续"})})},initWebSocket:function(){var t={};localStorage.getItem("userInfo")?(t=localStorage.getItem("userInfo"),t=JSON.parse(t)):t.id=0,console.log("insocket");var e="ws://192.168.3.12:9527/?"+t.id;this.websock=new WebSocket(e),this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onmessage=this.websocketonmessage,this.websock.onclose=this.websocketclose},websocketonopen:function(){console.log("WebSocket连接成功"),this.openSocket=!0},websocketonerror:function(t){console.log("WebSocket连接发生错误"),this.openSocket=!1},websocketonmessage:function(t){switch(t=JSON.parse(t.data),console.log(t),t.interface){case"info":if(200==t.code){this.jugeList=t.data.online,this.peopleInfo=t.data.ing[0],this.votedList=[],this.newdataList=[],this.olddataList=[],this.alldataList=[];var e=t.data.rank;for(var s in e){var o={};o.count=e[s][0].count,o.job=e[s][0].info.job,o.name=e[s][0].info.name,this.alldataList.push(o),1==e[s][0].info.type?this.newdataList.push(o):this.olddataList.push(o)}}else this.$message({message:t.message,type:"error"});break;case"vote":break;case"next":200==t.code?this.$router.replace("/tjInfo"):4300==t.code?this.$router.replace("/allRank"):this.$message({message:t.message,type:"error"})}},websocketsend:function(t){this.websock.send(a()(t))},websocketclose:function(t){this.openSocket=!1}}},r={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ui-waitvote"},[o("banner"),t._v(" "),o("div",{staticClass:"countList fl"},[o("DataList",{attrs:{dataList:t.newsortList,name:"评分实时榜单新员工"}})],1),t._v(" "),o("div",{staticClass:"countList fr"},[o("DataList",{attrs:{dataList:t.oldsortList,name:"评分实时榜单老员工"}})],1),t._v(" "),o("div",{staticClass:"ui-Candidate ui-contentbg"},[o("div",{staticClass:"ui-listtitle"},[t._v("候选人："+t._s(t.peopleInfo.name)+" 唱票中")]),t._v(" "),o("div",{staticClass:"ui-people"},[o("div",{staticClass:"face"},[o("img",{attrs:{src:s("RDLH"),alt:""}}),t._v(" "),o("div",{class:1==t.peopleInfo.type?"face-icon-new face-icon":"face-icon-old face-icon"})]),t._v(" "),o("div",{staticClass:"info"},[o("div",{staticClass:"info-item"},[o("div",{staticClass:"info-item-key"},[t._v("姓名：")]),t._v(" "),o("div",{staticClass:"info-item-value"},[t._v(t._s(t.peopleInfo.name))])]),t._v(" "),o("div",{staticClass:"info-item"},[o("div",{staticClass:"info-item-key"},[t._v("组：")]),t._v(" "),o("div",{staticClass:"info-item-value"},[t._v(t._s(t.peopleInfo.job))])]),t._v(" "),o("div",{staticClass:"info-item"},[o("div",{staticClass:"info-item-key"},[t._v("类别 ：")]),t._v(" "),1==t.peopleInfo.type?o("div",{staticClass:"info-item-value"},[t._v("新员工")]):o("div",{staticClass:"info-item-value"},[t._v("老员工")])])])]),t._v(" "),o("div",{staticClass:"enter-key",on:{click:t.nextStep}},[t._v("下一员工")])]),t._v(" "),o("div",{staticClass:"ui-judges"},[o("div",{staticClass:"ui-listtitle"},[t._v("评委席")]),t._v(" "),o("div",{staticClass:"ui-list"},t._l(t.filterList,function(e){return o("div",{staticClass:"ui-list-item"},[o("div",{staticClass:"ui-chair"},[o("div",{staticClass:"ui-name"},[t._v(t._s(e.uname))])]),t._v(" "),1==e.vote_status?o("div",{staticClass:"ui-voted"}):t._e()])}))])],1)},staticRenderFns:[]};var l=s("VU/8")(c,r,!1,function(t){s("20DP"),s("ndXb")},"data-v-6fd9d924",null);e.a=l.exports},hYT1:function(t,e){},j80Q:function(t,e,s){"use strict";var o=s("mvHQ"),a=s.n(o),n=s("Au9i"),i=(s("d8/S"),{name:"index_m",data:function(){return{msg:"Welcome to Your Vue.js App",username:"",password:"",lock:!1,timers:null,openSocket:!1,websock:null}},created:function(){this.initWebSocket()},beforeDestroy:function(){this.websock.close()},methods:{clear:function(){localStorage.clear(),this.$message({message:"清除成功",type:"success"})},register:function(){var t=this,e=this;if(""!=this.username){var s={name:this.username.trim()};this.lock=!0,n.MessageBox.confirm("确定已准备开始，并进入投票流程？").then(function(o){var a={interface:"register",data:s};console.log(s),e.openSocket?t.websocketsend(a):e.$message({message:"socket未连接",type:"error"})}).catch(function(){e.$message({message:"已取消",type:"info"})})}else Object(n.Toast)({message:"请输入姓名",position:"middle",duration:2e3})},initWebSocket:function(){this.websock=new WebSocket("ws://192.168.3.12:9527/?0"),this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onmessage=this.websocketonmessage,this.websock.onclose=this.websocketclose},websocketonopen:function(){console.log("WebSocket连接成功"),this.openSocket=!0},websocketonerror:function(t){console.log("WebSocket连接发生错误")},websocketonmessage:function(t){switch(t=JSON.parse(t.data),console.log(t),t.interface){case"register":if(200==t.code){var e=t.data;this.$store.commit("changelogin",{isLogin:!0}),30!=e.id&&e.uname==this.username.trim()&&(localStorage.setItem("userInfo",a()(e)),this.$router.replace("/waitVote_m"))}else this.$message({message:t.message,type:"error"});this.lock=!0}},websocketsend:function(t){this.websock.send(a()(t))},websocketclose:function(t){}}}),c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"register"},[s("mt-header",{attrs:{title:"评选人登录"}}),t._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"info"},[s("mt-field",{attrs:{label:"姓名",placeholder:"请输入姓名"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),t._v(" "),s("div",{staticClass:"info"},[s("mt-button",{attrs:{size:"large",type:"primary"},on:{click:t.register}},[t._v("进入评选")])],1),t._v(" "),s("mt-button",{attrs:{size:"large",type:"primary"},on:{click:t.clear}},[t._v("清除登录缓存")])],1),t._v(" "),s("div",{staticClass:"des"},[t._v("*请输入姓名作为评选人的标识，非评选人请勿输入！")]),t._v(" "),s("div",{staticClass:"des"},[t._v("*为了保证投票流程顺利进行，整个评分过程中请不要进行返回操作如果发生连接失败 刷新页面即可")])],1)},staticRenderFns:[]};var r=s("VU/8")(i,c,!1,function(t){s("u8sg"),s("UFx1")},"data-v-c838f5f8",null);e.a=r.exports},kDYT:function(t,e){},lP5M:function(t,e){},nKeI:function(t,e,s){"use strict";var o=s("mvHQ"),a=s.n(o),n=(s("tvR6"),s("Au9i"),s("MMMJ")),i={name:"tjInfo",data:function(){return{username:"",password:"",lock:!1,openSocket:!1,peopleInfo:{name:"--",job:"--",type:0,reason:"--"},olddataList:[],newdataList:[],alldataList:[],dataList:[],websock:null}},components:{DataList:s("ZOGT").a,banner:n.a},computed:{sortList:function(){return this.dataList.sort(function(t,e){var s=t.count;return e.count-s})},oldsortList:function(){return this.olddataList.sort(function(t,e){var s=t.count;return e.count-s})},newsortList:function(){return this.newdataList.sort(function(t,e){var s=t.count;return e.count-s})},allortList:function(){return this.alldataList.sort(function(t,e){var s=t.count;return e.count-s})}},created:function(){this.initWebSocket()},beforeDestroy:function(){console.log("开始投票"),this.websock.close()},methods:{nextStep:function(){var t=this;this.$confirm("是否开始当前候选人的评分","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.openSocket?t.websocketsend({interface:"startVote",data:""}):t.$message({message:"socket未连接",type:"error"})}).catch(function(){t.$message({type:"info",message:"已取消继续"})})},initWebSocket:function(){var t={};localStorage.getItem("userInfo")?(t=localStorage.getItem("userInfo"),t=JSON.parse(t)):t.id=0,console.log("insocket");var e="ws://192.168.3.12:9527/?"+t.id;this.websock=new WebSocket(e),this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onmessage=this.websocketonmessage,this.websock.onclose=this.websocketclose},websocketonopen:function(){console.log("WebSocket连接成功"),this.openSocket=!0},websocketonerror:function(t){console.log("WebSocket连接发生错误"),this.openSocket=!1},websocketonmessage:function(t){switch(t=JSON.parse(t.data),console.log(t),t.interface){case"info":if(200==t.code){this.$store.commit("changevote",{status:t.data.status}),this.peopleInfo=t.data.ing[0],this.newdataList=[],this.olddataList=[],this.alldataList=[];var e=t.data.rank;for(var s in e){var o={};o.count=e[s][0].count,o.job=e[s][0].info.job,o.name=e[s][0].info.name,this.alldataList.push(o),1==e[s][0].info.type?this.newdataList.push(o):this.olddataList.push(o)}}else this.$message({message:t.message,type:"error"});break;case"startVote":200==t.code?(localStorage.setItem("status",t.data.status),this.$store.commit("changevote",{status:t.data.status}),this.$router.replace("/vote")):this.$message({message:t.message,type:"error"})}},websocketsend:function(t){this.websock.send(a()(t))},websocketclose:function(t){this.openSocket=!1}}},c={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ui-waitvote"},[o("banner"),t._v(" "),o("div",{staticClass:"countList fl"},[o("DataList",{attrs:{dataList:t.newsortList,name:"评分实时榜单新员工"}})],1),t._v(" "),o("div",{staticClass:"countList fr"},[o("DataList",{attrs:{dataList:t.oldsortList,name:"评分实时榜单老员工"}})],1),t._v(" "),o("div",{staticClass:"ui-Candidate ui-contentbg"},[o("div",{staticClass:"ui-listtitle"},[t._v("候选人")]),t._v(" "),o("div",{staticClass:"ui-people"},[o("div",{staticClass:"face"},[o("img",{attrs:{src:s("RDLH"),alt:""}}),t._v(" "),o("div",{class:1==t.peopleInfo.type?"face-icon-new face-icon":"face-icon-old face-icon"})]),t._v(" "),o("div",{staticClass:"info"},[o("div",{staticClass:"info-item"},[o("div",{staticClass:"info-item-key"},[t._v("姓名：")]),t._v(" "),o("div",{staticClass:"info-item-value"},[t._v(t._s(t.peopleInfo.name))])]),t._v(" "),o("div",{staticClass:"info-item"},[o("div",{staticClass:"info-item-key"},[t._v("组：")]),t._v(" "),o("div",{staticClass:"info-item-value"},[t._v(t._s(t.peopleInfo.job))])]),t._v(" "),o("div",{staticClass:"info-item"},[o("div",{staticClass:"info-item-key"},[t._v("类别 ：")]),t._v(" "),1==t.peopleInfo.type?o("div",{staticClass:"info-item-value"},[t._v("新员工")]):o("div",{staticClass:"info-item-value"},[t._v("老员工")])])])]),t._v(" "),o("div",{staticClass:"enter-key",on:{click:t.nextStep}},[t._v("开始评分")])])],1)},staticRenderFns:[]};var r=s("VU/8")(i,c,!1,function(t){s("IaNU"),s("rdiP")},"data-v-ef35c372",null);e.a=r.exports},ndXb:function(t,e){},nnbP:function(t,e){},nyM9:function(t,e){},r2LH:function(t,e,s){"use strict";var o=s("mvHQ"),a=s.n(o),n=s("Au9i"),i=(s("d8/S"),{name:"vote_m",data:function(){return{lock:!1,rangeValue:0,openSocket:!1,userInfo:{},curCountJuge:{},peopleInfo:{name:"--",job:"--",type:0,reason:"--"},historyList:[],websock:null}},filters:{toNumber:function(t){return t?10*Number(t):0}},watch:{rangeValue:function(t,e){var s={count:t/10,curPeople:!0,to_info:{type:this.peopleInfo.type,job:this.peopleInfo.job,name:this.peopleInfo.name}};for(var o in this.sortList)if(this.sortList[o].to_info.name==s.to_info.name){document.querySelector(".history-scroll").scrollTop=260*parseInt(o/5),this.sortList.splice(o,1,s);break}}},computed:{sortList:function(){return this.historyList.sort(function(t,e){var s=t.count;return e.count-s})}},created:function(){localStorage.getItem("userInfo")?this.userInfo=JSON.parse(localStorage.getItem("userInfo")):this.userInfo.id=0,this.initWebSocket()},beforeDestroy:function(){console.log("投票中"),this.websock.close()},methods:{subValue:function(){var t=this;n.MessageBox.confirm("确定提交当前评分？").then(function(e){var s={interface:"vote",data:{from_id:t.userInfo.id,to_id:t.peopleInfo.id,count:t.rangeValue/10}};t.websocketsend(s)}).catch(function(){t.$message({message:"已取消",type:"info"})})},initWebSocket:function(){var t=this.userInfo;console.log(this.userInfo),console.log("insocket");var e="ws://192.168.3.12:9527/?"+t.id;this.websock=new WebSocket(e),this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onmessage=this.websocketonmessage,this.websock.onclose=this.websocketclose},websocketonopen:function(){console.log("WebSocket连接成功"),this.openSocket=!0},websocketonerror:function(t){console.log("WebSocket连接发生错误"),this.openSocket=!1},websocketonmessage:function(t){switch(t=JSON.parse(t.data),console.log(t),t.interface){case"info":if(200==t.code){for(var e in this.peopleInfo=t.data.ing[0],localStorage.setItem("ingStatus",this.peopleInfo.status),this.historyList=[],t.data.history)t.data.history[e].from_id==this.userInfo.id&&this.historyList.push(t.data.history[e]);var s={count:this.rangeValue,to_info:{type:this.peopleInfo.type,job:this.peopleInfo.job,name:this.peopleInfo.name}};this.historyList.push(s)}else this.$message({message:t.message,type:"error"});break;case"vote":200==t.code?(console.log(t.data.from_id,this.userInfo.id),t.data.from_id==this.userInfo.id&&(this.websock.close(),this.$router.replace("/voteEnd_m"))):this.$message({message:t.message,type:"error"});break;case"next":200==t.code?this.$router.replace("/tjInfo_m"):this.$message({message:t.message,type:"error"})}},websocketsend:function(t){this.websock.send(a()(t))},websocketclose:function(t){this.openSocket=!1}}}),c={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ui-vote"},[o("div",{staticClass:"vote-history"},[o("div",{staticClass:"ui-tit"},[t._v("历史评分")]),t._v(" "),o("div",{staticClass:"history-scroll",attrs:{refs:"scrollbox"}},t._l(t.sortList,function(e){return o("div",{staticClass:"vote-history-item"},[o("div",{staticClass:"face"},[o("img",{attrs:{src:s("RDLH"),alt:""}}),t._v(" "),o("div",{class:1==e.to_info.type?"face-icon-new face-icon":"face-icon-old face-icon"})]),t._v(" "),o("div",{staticClass:"num"},[o("div",{staticClass:"name"},[o("span",[t._v(t._s(e.to_info.job)+"-"+t._s(e.to_info.name))]),t._v(" "),o("span",{staticClass:"percent"},[t._v(t._s(e.count))])]),t._v(" "),o("div",{staticClass:"range"},[o("mt-progress",{class:e.curPeople?"curPeople":"",attrs:{value:t._f("toNumber")(e.count),barHeight:10}},[o("div",{attrs:{slot:"start"},slot:"start"}),t._v(" "),o("div",{attrs:{slot:"end"},slot:"end"})])],1)])])}))]),t._v(" "),o("div",{staticClass:"vote-info"},[o("div",{staticClass:"vote-people"},[o("div",{staticClass:"vote-people-info"},[o("div",{staticClass:"face"},[o("img",{attrs:{src:s("RDLH"),alt:""}}),t._v(" "),o("div",{class:1==t.peopleInfo.type?"face-icon-new face-icon":"face-icon-old face-icon"})]),t._v(" "),o("div",{staticClass:"name"},[t._v(t._s(t.peopleInfo.job)+"-"+t._s(t.peopleInfo.name))])]),t._v(" "),o("span",{staticClass:"currange"},[t._v(t._s(t.rangeValue/10))])])]),t._v(" "),o("div",{staticClass:"float-index"},[t._m(0),t._v(" "),o("div",{staticClass:"vote-range"},[o("mt-range",{attrs:{min:0,max:100,step:1,"bar-height":4},model:{value:t.rangeValue,callback:function(e){t.rangeValue=e},expression:"rangeValue"}})],1),t._v(" "),o("div",{staticClass:"vote-range"},[o("mt-button",{attrs:{size:"large",type:"primary"},on:{click:t.subValue}},[t._v("提交评分")])],1)])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ranglimit"},[e("span",[this._v("0")]),this._v(" "),e("span",[this._v("10")])])}]};var r=s("VU/8")(i,c,!1,function(t){s("4jiY"),s("hYT1")},"data-v-4c7096f7",null);e.a=r.exports},rdiP:function(t,e){},tvR6:function(t,e){},u8sg:function(t,e){},utys:function(t,e,s){"use strict";var o=s("mvHQ"),a=s.n(o),n=(s("d8/S"),s("Au9i"),{name:"waitVote_m",data:function(){return{username:"",password:"",lock:!1,jugeList:[],CandidateList:[],openSocket:!1,websock:null}},created:function(){this.initWebSocket()},beforeDestroy:function(){this.websock.close()},methods:{jumpTo:function(t){this.$router.push(t)},register:function(){},initWebSocket:function(){var t={};localStorage.getItem("userInfo")?(t=localStorage.getItem("userInfo"),t=JSON.parse(t)):t.id=0,console.log("insocket");var e="ws://192.168.3.12:9527/?"+t.id;this.websock=new WebSocket(e),this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onmessage=this.websocketonmessage,this.websock.onclose=this.websocketclose},websocketonopen:function(){console.log("WebSocket连接成功");this.websocketsend({interface:"getPeoples",data:""}),this.openSocket=!0},websocketonerror:function(t){console.log("WebSocket连接发生错误"),this.openSocket=!1},websocketonmessage:function(t){switch(t=JSON.parse(t.data),console.log(t),t.interface){case"info":200==t.code?(this.$store.commit("changevote",{status:t.data.status}),this.jugeList=t.data.online):this.$message({message:t.message,type:"error"});break;case"start":200==t.code?(localStorage.setItem("status",t.data.status),this.$store.commit("changevote",{status:t.data.status}),this.$router.replace("/tjInfo_m")):this.$message({message:t.message,type:"error"});break;case"getPeoples":200==t.code?this.CandidateList=t.data:this.$message({message:t.message,type:"error"})}},websocketsend:function(t){this.websock.send(a()(t))},websocketclose:function(t){this.openSocket=!1}}}),i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ui-waitvote"},[s("div",{staticClass:"ui-Candidate"},[s("div",{staticClass:"ui-tit"},[t._v("候选人")]),t._v(" "),s("div",{staticClass:"ui-list"},t._l(t.CandidateList,function(e){return s("div",{staticClass:"ui-list-item"},[t._m(0,!0),t._v(" "),s("div",{staticClass:"ui-name"},[t._v(t._s(e.name))])])}))]),t._v(" "),s("div",{staticClass:"ui-judges"},[s("div",{staticClass:"ui-tit"},[t._v("评委席")]),t._v(" "),s("div",{staticClass:"ui-list"},t._l(t.jugeList,function(e){return s("div",{staticClass:"ui-list-item"},[s("div",{staticClass:"ui-chair"},[s("div",{staticClass:"ui-name"},[t._v(t._s(e.uname))])])])}))])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"ui-face"},[e("img",{attrs:{src:s("RDLH"),alt:""}})])}]};var c=s("VU/8")(n,i,!1,function(t){s("O0z4"),s("lP5M")},"data-v-03d58308",null);e.a=c.exports},yRvP:function(t,e,s){"use strict";var o=s("mvHQ"),a=s.n(o),n=(s("Au9i"),s("d8/S"),{name:"tjInfo_m",data:function(){return{peopleInfo:{name:"--",job:"--",type:0,reason:"--"},lock:!1,openSocket:!1,websock:null}},created:function(){this.initWebSocket()},beforeDestroy:function(){this.websock.close()},methods:{jumpTo:function(t){this.$router.push(t)},register:function(){},initWebSocket:function(){var t={};localStorage.getItem("userInfo")?(t=localStorage.getItem("userInfo"),t=JSON.parse(t)):t.id=0,console.log("insocket");var e="ws://192.168.3.12:9527/?"+t.id;this.websock=new WebSocket(e),this.websock.onopen=this.websocketonopen,this.websock.onerror=this.websocketonerror,this.websock.onmessage=this.websocketonmessage,this.websock.onclose=this.websocketclose},websocketonopen:function(){console.log("WebSocket连接成功"),this.openSocket=!0},websocketonerror:function(t){console.log("WebSocket连接发生错误"),this.openSocket=!1},websocketonmessage:function(t){switch(t=JSON.parse(t.data),console.log(t),t.interface){case"info":200==t.code&&(this.$store.commit("changevote",{status:t.data.status}),this.peopleInfo=t.data.ing[0],this.peopleInfo?(localStorage.setItem("ingStatus",this.peopleInfo.status),2==t.data.ing[0].status&&this.$router.replace("/vote_m")):this.$message({message:"全部都已投完！谢谢参与",type:"error"}));break;case"startVote":200==t.code?(localStorage.setItem("status",t.data.status),this.$store.commit("changevote",{status:t.data.status}),this.$router.replace("/vote_m")):this.$message({message:t.message,type:"error"})}},websocketsend:function(t){this.websock.send(a()(t))},websocketclose:function(t){this.openSocket=!1}}}),i={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"ui-tjinfo"},[o("mt-header",{attrs:{title:"推荐人信息"}}),t._v(" "),o("div",{staticClass:"ui-tj"},[o("div",{staticClass:"ui-tit"},[t._v("候选人")]),t._v(" "),o("div",{staticClass:"ui-people"},[o("div",{staticClass:"face"},[o("img",{attrs:{src:s("RDLH"),alt:""}}),t._v(" "),o("div",{class:1==t.peopleInfo.type?"face-icon-new face-icon":"face-icon-old face-icon"})]),t._v(" "),o("div",{staticClass:"info"},[o("div",{staticClass:"info-item"},[o("div",{staticClass:"info-item-key"},[t._v("姓名：")]),t._v(" "),o("div",{staticClass:"info-item-value"},[t._v(t._s(t.peopleInfo.name))])]),t._v(" "),o("div",{staticClass:"info-item"},[o("div",{staticClass:"info-item-key"},[t._v("所属：")]),t._v(" "),o("div",{staticClass:"info-item-value"},[t._v(t._s(t.peopleInfo.job))])]),t._v(" "),o("div",{staticClass:"info-item"},[o("div",{staticClass:"info-item-key"},[t._v("类别：")]),t._v(" "),1==t.peopleInfo.type?o("div",{staticClass:"info-item-value"},[t._v("新员工")]):o("div",{staticClass:"info-item-value"},[t._v("老员工")])])])])])],1)},staticRenderFns:[]};var c=s("VU/8")(n,i,!1,function(t){s("TcX2"),s("nyM9")},"data-v-642089d3",null);e.a=c.exports},zlc5:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.debe99bb399a3d37cabb.js.map